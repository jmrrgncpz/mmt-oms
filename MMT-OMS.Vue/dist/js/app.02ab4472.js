(function(e){function t(t){for(var s,i,o=t[0],l=t[1],u=t[2],d=0,m=[];d<o.length;d++)i=o[d],Object.prototype.hasOwnProperty.call(r,i)&&r[i]&&m.push(r[i][0]),r[i]=0;for(s in l)Object.prototype.hasOwnProperty.call(l,s)&&(e[s]=l[s]);c&&c(t);while(m.length)m.shift()();return n.push.apply(n,u||[]),a()}function a(){for(var e,t=0;t<n.length;t++){for(var a=n[t],s=!0,o=1;o<a.length;o++){var l=a[o];0!==r[l]&&(s=!1)}s&&(n.splice(t--,1),e=i(i.s=a[0]))}return e}var s={},r={app:0},n=[];function i(t){if(s[t])return s[t].exports;var a=s[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,i),a.l=!0,a.exports}i.m=e,i.c=s,i.d=function(e,t,a){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(i.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)i.d(a,s,function(t){return e[t]}.bind(null,s));return a},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],l=o.push.bind(o);o.push=t,o=o.slice();for(var u=0;u<o.length;u++)t(o[u]);var c=l;n.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("56d7")},"034f":function(e,t,a){"use strict";var s=a("85ec"),r=a.n(s);r.a},"07aa":function(e,t,a){e.exports=a.p+"img/GelTint1.b5d707a2.jpg"},"22c9":function(e,t,a){e.exports=a.p+"img/GelTint2.13c2906e.jpg"},"22de":function(e,t,a){"use strict";var s=a("8319"),r=a.n(s);r.a},4966:function(e,t,a){"use strict";var s=a("8c5a"),r=a.n(s);r.a},"4b5e":function(e,t,a){e.exports=a.p+"img/MattePowdery.fbcb990b.jpg"},"56d7":function(e,t,a){"use strict";a.r(t);a("e260"),a("e6cf"),a("cca6"),a("a79d");var s=a("2b0e"),r=a("8c4f"),n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-app",[a("router-view")],1)},i=[],o={name:"App"},l=o,u=(a("034f"),a("2877")),c=a("6544"),d=a.n(c),m=a("7496"),v=Object(u["a"])(l,n,i,!1,null,null,null),p=v.exports;d()(v,{VApp:m["a"]});var h=a("f309");s["a"].use(h["a"]);var f=new h["a"]({}),b=(a("45fc"),function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",{staticClass:"fill-height",attrs:{fluid:""}},[a("v-row",{staticClass:"flex-column",attrs:{align:"center",justify:"center"}},[a("v-col",{attrs:{cols:"12",sm:"8",md:"4"}},[a("v-card",{staticClass:"elevation-12"},[a("v-toolbar",{attrs:{color:"primary",dark:"",flat:""}},[a("v-toolbar-title",{staticClass:"text-h5",attrs:{id:"login-header"}},[e._v("Login")])],1),a("v-card-text",[a("v-form",[a("v-text-field",{attrs:{label:"Username",name:"username","prepend-icon":"mdi-account",type:"text"},model:{value:e.username,callback:function(t){e.username=t},expression:"username"}}),a("v-text-field",{attrs:{id:"password",label:"Password",name:"password","prepend-icon":"mdi-lock",type:"password"},model:{value:e.password,callback:function(t){e.password=t},expression:"password"}})],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"primary"},on:{click:e.doLogin}},[e._v("Login")])],1)],1)],1),a("v-col",{attrs:{cols:"12",sm:"8",md:"4"}},[a("v-alert",{attrs:{outlined:"",dismissible:"",type:"error"},model:{value:e.isShowError,callback:function(t){e.isShowError=t},expression:"isShowError"}},[e._v(" "+e._s(e.errorMessage)+" ")])],1)],1)],1)}),g=[],C=(a("a15b"),a("d81d"),a("b64b"),{data:function(){return{username:"",password:"",errorMessage:""}},methods:{doLogin:function(){var e=this;this.errorMessage="";var t={username:this.username,password:this.password,grant_type:"password"},a=this;this.$axios({method:"post",url:"token",data:x(t)}).then((function(t){localStorage.setItem("access_key",t.data.access_token),a.$axios.defaults.headers.common["Authorization"]="Bearer "+t.data.access_token,e.$router.push({name:"customer-orders"})})).catch((function(e){400==e.response.status&&(a.errorMessage=e.response.data.error_description)}))}},computed:{isShowError:function(){return!!this.errorMessage}}});function x(e){return Object.keys(e).map((function(t){return encodeURIComponent(t)+"="+encodeURIComponent(e[t])})).join("&")}var y=C,_=a("0798"),S=a("8336"),w=a("b0af"),N=a("99d9"),T=a("62ad"),k=a("a523"),V=a("4bd4"),O=a("0fd9"),I=a("2fa4"),D=a("8654"),B=a("71d9"),P=a("2a7f"),M=Object(u["a"])(y,b,g,!1,null,null,null),F=M.exports;d()(M,{VAlert:_["a"],VBtn:S["a"],VCard:w["a"],VCardActions:N["a"],VCardText:N["c"],VCol:T["a"],VContainer:k["a"],VForm:V["a"],VRow:O["a"],VSpacer:I["a"],VTextField:D["a"],VToolbar:B["a"],VToolbarTitle:P["a"]});var A=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("v-container",{attrs:{id:"container",fluid:""}},[s("v-form",{ref:"form"},[s("v-row",{attrs:{id:"row",justify:"center"}},[s("v-col",{staticClass:"col",attrs:{cols:"12",md:"8"}},[s("h3",{staticClass:"text-h3"},[e._v("Order Form")]),s("v-row",{attrs:{id:"details-form"}},[s("v-col",{staticClass:"col",attrs:{cols:"12",lg:"6"}},[s("h4",{staticClass:"text-h4"},[e._v("Details")]),s("v-divider",{staticClass:"mb-4"}),s("v-text-field",{attrs:{outlined:"",rounded:"",label:"Full Name",rules:e.baseDetailsRules,maxlength:"100",required:""},model:{value:e.clientName,callback:function(t){e.clientName=t},expression:"clientName"}}),s("v-text-field",{attrs:{outlined:"",rounded:"",label:"Facebook Name",rules:e.baseDetailsRules,maxlength:"100",required:""},model:{value:e.fbName,callback:function(t){e.fbName=t},expression:"fbName"}}),s("v-textarea",{attrs:{outlined:"",rounded:"",label:"Complete Shipping Address",rules:e.baseDetailsRules,maxlength:"200",required:""},model:{value:e.shippingAddress,callback:function(t){e.shippingAddress=t},expression:"shippingAddress"}}),s("v-text-field",{attrs:{outlined:"",rounded:"",label:"Phone Number",rules:e.phoneNumberRules,prefix:"+63",maxlength:"10"},model:{value:e.phoneNumber,callback:function(t){e.phoneNumber=t},expression:"phoneNumber"}}),s("v-text-field",{attrs:{outlined:"",rounded:"",label:"Brand Name",rules:e.baseDetailsRules,maxlength:"100",required:""},model:{value:e.brandName,callback:function(t){e.brandName=t},expression:"brandName"}})],1)],1),s("v-row",[s("v-col",{staticClass:"col",attrs:{cols:"12"}},[s("h4",{staticClass:"text-h4"},[e._v("Shades")]),s("v-divider",{staticClass:"mb-4"}),s("div",{attrs:{id:"bundle-selection"}},[s("h5",{staticClass:"text-h5"},[e._v("Bundle Selection")]),s("v-row",[s("v-col",{attrs:{cols:"12",sm:"4"}},[s("v-subheader",{staticClass:"mb-4"},[e._v("Bundle List")]),s("v-list",[e.bundles&&e.bundles.length?s("v-list-item-group",e._l(e.bundles,(function(t){return s("v-list-item",{key:t.Code,on:{click:function(a){return e.selectBundle(t)}}},[[s("v-list-item-action",[s("v-checkbox",{attrs:{"input-value":e.selectedBundle.Code==t.Code}})],1),s("v-list-item-content",[s("v-list-item-title",[e._v(" "+e._s(t.Code)+" ")])],1)]],2)})),1):s("h5",{staticClass:"text-h5 text-center font-italic"},[e._v("No bundle available")])],1)],1),e.bundles&&e.bundles.length?s("v-col",{attrs:{cols:"12",sm:"8"}},[s("v-subheader",{staticClass:"mb-4"},[e._v("Bundle Details")]),e.selectedBundle?s("div",[e.selectedBundle.Amount?s("h3",{staticClass:"text-h3"},[e._v(" PHP "+e._s(e.selectedBundle.Amount)+" ")]):e._e(),s("span",[e._v(e._s(e.selectedBundle.Description))])]):s("h5",{staticClass:"text-h5"},[e._v(" Select a bundle ")])],1):e._e()],1)],1),e.isNoSelectedBundle||e.bundleHasGelTint||e.bundleHasMatteTint?s("div",{attrs:{id:"shade-selection"}},[s("h5",{staticClass:"text-h5"},[e._v("Shade Selection")]),s("div",{directives:[{name:"show",rawName:"v-show",value:e.bundleHasGelTint,expression:"bundleHasGelTint"}],attrs:{id:"gel-selection"}},[s("v-row",{staticClass:"flex-column flex-column-reverse flex-md-row",attrs:{justify:"center"}},[s("v-col",{attrs:{cols:"12",md:"8"}},[s("h6",{staticClass:"text-h6 text-center d-none d-md-block"},[e._v("Gel Lip & Cheek Tint")]),s("v-row",[e.remainingGelTint!=1/0?s("v-col",[s("span",[e._v(e._s(e.remainingGelTint)+" remaining")])]):e._e(),s("v-col",[e.isNoSelectedBundle?s("h5",{staticClass:"text-h5"},[e._v(" PHP "+e._s(e.gelTotalAmount)+" ")]):e._e(),s("span",[e._v(" "+e._s(e.gelTotal)+" pcs")])])],1),s("v-data-table",{attrs:{headers:e.shadeSelectorHeaders,items:e.gelTints,"hide-default-footer":!0,"disable-sort":!0},scopedSlots:e._u([{key:"item.CustomShadeName",fn:function(t){return[s("v-text-field",{on:{focus:function(a){return e.onColumnFocus(a,t.item,"CustomShadeName")}},model:{value:t.item.CustomShadeName,callback:function(a){e.$set(t.item,"CustomShadeName",a)},expression:"props.item.CustomShadeName"}}),s("span",{directives:[{name:"show",rawName:"v-show",value:t.item.ValidationMessages.has("CustomShadeName"),expression:"props.item.ValidationMessages.has('CustomShadeName')"}],staticClass:"caption red--text"},[e._v(" "+e._s(t.item.ValidationMessages.get("CustomShadeName"))+" ")])]}},{key:"item.Quantity",fn:function(t){return[s("v-text-field",{attrs:{type:"number"},on:{focus:function(e){return e.target.select()}},model:{value:t.item.Quantity,callback:function(a){e.$set(t.item,"Quantity",a)},expression:"props.item.Quantity"}})]}},{key:"item.File",fn:function(t){return[s("v-file-input",{attrs:{"prepend-icon":"mdi-camera",label:t.item.CustomShadeName+" layout file",disabled:0==t.item.Quantity||!t.item.Quantity,name:e.camelCase(t.item.CustomShadeName)},on:{focus:function(a){return e.onColumnFocus(a,t.item,"File")}},model:{value:t.item.File,callback:function(a){e.$set(t.item,"File",a)},expression:"props.item.File"}}),s("span",{directives:[{name:"show",rawName:"v-show",value:t.item.ValidationMessages.has("File"),expression:"props.item.ValidationMessages.has('File')"}],staticClass:"caption red--text"},[e._v(" "+e._s(t.item.ValidationMessages.get("File"))+" ")])]}}],null,!1,486870184)})],1),s("v-col",{attrs:{cols:"12",md:"4"}},[s("h6",{staticClass:"text-h6 text-center d-sm-block d-md-none"},[e._v("Gel Lip & Cheek Tint")]),s("v-row",{staticClass:"flex-md-column"},[s("v-col",{attrs:{cols:"12",sm:"6",md:"12"}},[s("v-img",{attrs:{src:a("07aa")}})],1),s("v-col",{attrs:{cols:"12",sm:"6",md:"12"}},[s("v-img",{attrs:{src:a("22c9")}})],1)],1)],1)],1)],1),s("div",{directives:[{name:"show",rawName:"v-show",value:e.bundleHasMatteTint,expression:"bundleHasMatteTint"}],attrs:{id:"matte-selection"}},[s("v-row",{staticClass:"flex-column flex-column-reverse flex-md-row",attrs:{justify:"center"}},[s("v-col",{attrs:{cols:"12",md:"8"}},[s("h6",{staticClass:"text-h6 text-center d-none d-md-block"},[e._v("Matte Powdery")]),s("v-row",[e.remainingMatteTint!=1/0?s("v-col",[s("span",[e._v(e._s(e.remainingMatteTint)+" remaining")])]):e._e(),s("v-col",[e.isNoSelectedBundle?s("h5",{staticClass:"text-h5"},[e._v(" PHP "+e._s(e.matteTotalAmount)+" ")]):e._e(),s("span",[e._v(" "+e._s(e.matteTotal)+" pcs")])])],1),s("v-row",{staticClass:"flex-column flex-md-row",attrs:{justify:"center"}},[s("v-col",{attrs:{cols:"12"}},[s("v-data-table",{attrs:{headers:e.shadeSelectorHeaders,items:e.matteTints,"hide-default-footer":!0,"disable-sort":!0},scopedSlots:e._u([{key:"item.CustomShadeName",fn:function(t){return[s("v-text-field",{on:{focus:function(a){return e.onColumnFocus(a,t.item,"CustomShadeName")}},model:{value:t.item.CustomShadeName,callback:function(a){e.$set(t.item,"CustomShadeName",a)},expression:"props.item.CustomShadeName"}}),s("span",{directives:[{name:"show",rawName:"v-show",value:t.item.ValidationMessages.has("CustomShadeName"),expression:"props.item.ValidationMessages.has('CustomShadeName')"}],staticClass:"caption red--text"},[e._v(" "+e._s(t.item.ValidationMessages.get("CustomShadeName"))+" ")])]}},{key:"item.Quantity",fn:function(t){return[s("v-text-field",{attrs:{type:"number"},on:{focus:function(e){return e.target.select()}},model:{value:t.item.Quantity,callback:function(a){e.$set(t.item,"Quantity",a)},expression:"props.item.Quantity"}})]}},{key:"item.File",fn:function(t){return[s("v-file-input",{attrs:{"prepend-icon":"mdi-camera",label:t.item.Name+" layout file",disabled:0==t.item.Quantity||!t.item.Quantity,name:e.camelCase(t.item.CustomShadeName)},on:{focus:function(a){return e.onColumnFocus(a,t.item,"File")}},model:{value:t.item.File,callback:function(a){e.$set(t.item,"File",a)},expression:"props.item.File"}}),s("span",{directives:[{name:"show",rawName:"v-show",value:t.item.ValidationMessages.has("File"),expression:"props.item.ValidationMessages.has('File')"}],staticClass:"caption red--text"},[e._v(" "+e._s(t.item.ValidationMessages.get("File"))+" ")])]}}],null,!1,3063136768)})],1)],1)],1),s("v-col",{attrs:{cols:"12",md:"4","align-self":"center"}},[s("h6",{staticClass:"text-h6 text-center d-sm-block d-md-none"},[e._v("Matte Powdery")]),s("v-row",{attrs:{justify:"center"}},[s("v-col",{attrs:{sm:"6",md:"12"}},[s("v-img",{attrs:{src:a("4b5e")}})],1)],1)],1)],1)],1)]):e._e()],1)],1),s("v-row",[s("v-col",{attrs:{cols:"6",md:"2"}},[s("h3",{staticClass:"h3"},[e._v(" Total Amount "+e._s(e.gelTotalAmount+e.matteTotalAmount)+" ")])]),s("v-col",{staticClass:"text-right",attrs:{cols:"6",md:"2"}},[s("v-btn",{staticClass:"purple lighten-4",attrs:{rounded:"",loading:e.isSubmitLoading},on:{click:e.executeSubmitOrder}},[e._v(" Submit ")])],1)],1)],1)],1)],1),s("v-dialog",{attrs:{id:"no-bundle-limit-error","min-width":"290","max-width":"400"},on:{"click:outside":function(t){e.hasNoBundleLimitsError=!1}},model:{value:e.hasNoBundleLimitsError,callback:function(t){e.hasNoBundleLimitsError=t},expression:"hasNoBundleLimitsError"}},[s("v-card",[s("v-card-title",{staticClass:"headline"},[e._v("Bundle Error")]),s("v-card-text",{staticClass:"body-1"},[e._v(" You have not selected enough items. Please make sure you have selected items worth more than "),s("strong",[e._v("PHP 1000")]),e._v(". ")]),s("v-card-actions",[s("v-spacer"),s("v-btn",{attrs:{color:"green darken-1",text:""},on:{click:function(t){e.hasNoBundleLimitsError=!1}}},[e._v(" Ok ")])],1)],1)],1),s("v-dialog",{attrs:{id:"bundle-limit-error","min-width":"290","max-width":"400"},on:{"click:outside":function(t){e.hasBundleLimitsError=!1}},model:{value:e.hasBundleLimitsError,callback:function(t){e.hasBundleLimitsError=t},expression:"hasBundleLimitsError"}},[s("v-card",[s("v-card-title",{staticClass:"headline"},[e._v("Bundle Error")]),s("v-card-text",{staticClass:"body-1"},[e._v(" You might have selected less or more number of items for your bundle. Please fix this error and submit again. ")]),s("v-card-actions",[s("v-spacer"),s("v-btn",{attrs:{color:"green darken-1",text:""},on:{click:function(t){e.hasBundleLimitsError=!1}}},[e._v(" Ok ")])],1)],1)],1),s("v-dialog",{attrs:{id:"order-submit-success",persistent:"","min-width":"290","max-width":"400"},model:{value:e.isSuccessSubmitOrder,callback:function(t){e.isSuccessSubmitOrder=t},expression:"isSuccessSubmitOrder"}},[s("v-card",[s("v-card-title",{staticClass:"headline"},[e._v("Order Submitted")]),s("v-card-text",{staticClass:"body-1 text-center"},[e._v(" Your order is submitted. Please copy or screenshot this code."),s("br"),s("br"),s("h2",{staticClass:"text-h2"},[e._v(" "+e._s(e.orderUniqueCode)+" ")]),e._v(" "),s("br"),e._v(" You will use this to submit your payment/s. "),s("br"),s("br")]),s("v-card-actions",[s("v-spacer"),s("v-btn",{attrs:{color:"green darken-1",text:""},on:{click:e.dismissSuccessDialog}},[e._v(" Ok ")])],1)],1)],1)],1)},L=[],$=(a("99af"),a("4de4"),a("7db0"),a("4160"),a("caad"),a("13d5"),a("4ec9"),a("d3b7"),a("2532"),a("3ca3"),a("159b"),a("ddb0"),a("96cf"),a("1da1")),j=a("2909"),E=a("2ef0"),q=a.n(E),Q=a("1157"),R=a.n(Q),H={Code:"Custom",Description:"You choose your tints. Minimum of PHP 1000"},G={data:function(){return{clientName:"",fbName:"",shippingAddress:"",phoneNumber:"",brandName:"",countryCode:null,selectedBundle:H,bundles:[],gelTints:[],matteTints:[],shadeSelectorHeaders:[{text:"Shade",value:"Name"},{text:"Your Shade Name",value:"CustomShadeName"},{text:"Quantity",value:"Quantity"},{text:"Layout Image",value:"File"}],tintTypes:[],baseDetailsRules:[function(e){return!!e||"This is required."}],phoneNumberRules:[function(e){return!!e||"This is required."},function(e){return"9"==e[0]||"Invalid Phone number format. Please input as e.g. 977xxxxxxx"},function(e){return 10==e.length||"Phone number should have 10 digits. Please input as e.g. 977xxxxxxx"}],hasBundleLimitsError:!1,hasNoBundleLimitsError:!1,orderUniqueCode:"",isSuccessSubmitOrder:!1,isSubmitLoading:!1,initialGelTints:[],initialMatteTints:[]}},methods:{selectBundle:function(e){this.selectedBundle=e,"Custom"!=this.selectedBundle.Code&&2!=this.selectedBundle.BundleTintTypes.length&&(this.bundleHasGelTint?this.bundleHasMatteTint||(this.matteTints=this.matteTints.map(this.resetShadeRow)):this.gelTints=this.gelTints.map(this.resetShadeRow))},resetShadeRow:function(e){var t=Object.assign({},e);return t.Quantity=0,t.CustomShadeName=t.Name,t},onColumnFocus:function(e,t,a){if(e.target.select(),t.ValidationMessages.has(a)){var s=new Map(t.ValidationMessages);s.delete(a),t.ValidationMessages=s}},countrySelected:function(e){this.countryCode=e.dialCode},loadResources:function(){var e=this;this.$axios({url:"api/customer-order/get-order-form-resources",crossdomain:!1}).then((function(t){e.bundles=[H].concat(Object(j["a"])(t.data.Bundles)),e.gelTints=t.data.GelTints.map((function(e){return Object.assign({CustomShadeName:e.Name,Quantity:0,File:null,ValidationMessages:new Map},e)})),e.matteTints=t.data.MatteTints.map((function(e){return Object.assign({CustomShadeName:e.Name,Quantity:0,File:null,ValidationMessages:new Map},e)})),e.tintTypes=t.data.TintTypes}))},executeSubmitOrder:function(){var e=this;return Object($["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.isSubmitLoading=!0,t.prev=1,t.next=4,e.submitOrder();case 4:return t.prev=4,e.isSubmitLoading=!1,t.finish(4);case 7:case"end":return t.stop()}}),t,null,[[1,,4,7]])})))()},submitOrder:function(){var e=this;return Object($["a"])(regeneratorRuntime.mark((function t(){var a,s,r,n,i,o,l,u,c,d;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(a=new FormData,s=[].concat(Object(j["a"])(e.gelTints),Object(j["a"])(e.matteTints)),r=s.filter((function(e){return Y(e)})),n=e.$refs.form.validate(),n){t.next=8;break}return i=document.querySelector("#details-form"),e.scrollToElement(i),t.abrupt("return");case 8:if(o=e.isValidShades(r),o){t.next=12;break}return e.$nextTick((function(){var t=R()("span.caption.red--text:visible");e.scrollToElement(t[0])})),t.abrupt("return");case 12:if("Custom"!=e.selectedBundle.Code){t.next=18;break}if(!(e.gelTotalAmount+e.matteTotalAmount<1e3)){t.next=16;break}return e.hasNoBundleLimitsError=!0,t.abrupt("return");case 16:t.next=21;break;case 18:if(0==e.remainingGelTint&&0==e.remainingMatteTint){t.next=21;break}return e.hasBundleLimitsError=!0,t.abrupt("return");case 21:return l=e.mapSelectedTints(r),r.forEach((function(t){return a.append(e.camelCase(t.CustomShadeName),t.File)})),u=U(6),c={ClientName:e.clientName,ClientFacebookName:e.fbName,BundleCode:e.isNoSelectedBundle?null:e.selectedBundle.Code,Amount:e.isNoSelectedBundle?e.gelTotalAmount+e.matteTotalAmount:e.selectedBundle.Amount,BrandName:e.brandName,PhoneNumber:e.phoneNumber,DeliveryAddress:e.shippingAddress,UniqueCode:u,CustomerOrderShades:l},a.append("customerOrder",JSON.stringify(c)),d=e,t.abrupt("return",e.$axios({method:"post",url:"api/customer-order/submit",data:a,headers:{"content-type":"multipart/form-data"},crossdomain:!1}).then((function(e){d.orderUniqueCode=e.data,d.isSuccessSubmitOrder=!0})));case 28:case"end":return t.stop()}}),t)})))()},dismissSuccessDialog:function(){var e=this;this.isSuccessSubmitOrder=!1,this.$nextTick((function(){e.$router.go(0)}))},clearForm:function(){this.$refs.form.reset()},isValidShades:function(e){return this.validateShades(e),!e.some((function(e){return e.ValidationMessages.size}))},validateShades:function(e){var t=this;e.forEach((function(e){var a,s=1==e.TintTypeId,r=new Map;a=s?t.gelTints.find((function(t){return t.Id==e.Id})):t.matteTints.find((function(t){return t.Id==e.Id})),a.CustomShadeName||r.set("CustomShadeName","Shade name can't be empty"),a.File||r.set("File","Layout image can't be empty."),a.ValidationMessages=e.ValidationMessages=r}))},camelCase:function(e){return q.a.camelCase(e)},mapSelectedTints:function(e){var t=this;return e.filter((function(e){return 0!=parseInt(e.Quantity)&&!isNaN(parseInt(e.Quantity))})).map((function(e){return{ShadeId:e.Id,Quantity:e.Quantity,ShadeName:e.CustomShadeName,FileName:t.camelCase(e.CustomShadeName)}}))},onFocusShadeName:function(e,t){e.target.select(),t.ValidationMessages.has("CustomShadeName")&&t.ValidationMessages.delete("CustomShadeName")},scrollToElement:function(e){this.$nextTick((function(){e.scrollIntoView({behavior:"smooth",block:"center"})}))}},computed:{remainingGelTint:function(){if(this.isNoSelectedBundle)return 1/0;var e=this.selectedBundle.BundleTintTypes.find((function(e){return 1==e.TintTypeId}));return e?e.Quantity-this.gelTotal:0},remainingMatteTint:function(){if(this.isNoSelectedBundle)return 1/0;var e=this.selectedBundle.BundleTintTypes.find((function(e){return 2==e.TintTypeId}));return e?e.Quantity-this.matteTotal:0},bundleHasGelTint:function(){return!!this.selectedBundle&&(!!this.isNoSelectedBundle||this.selectedBundle.BundleTintTypes&&this.selectedBundle.BundleTintTypes.map((function(e){return e.TintTypeId})).includes(1))},bundleHasMatteTint:function(){return!!this.selectedBundle&&(!!this.isNoSelectedBundle||this.selectedBundle.BundleTintTypes&&this.selectedBundle.BundleTintTypes.map((function(e){return e.TintTypeId})).includes(2))},isNoSelectedBundle:function(){return!this.selectedBundle||"Custom"==this.selectedBundle.Code},gelTotal:function(){return this.gelTints?this.gelTints.reduce((function(e,t){return e+parseInt(t.Quantity||0)}),0):[]},matteTotal:function(){return this.matteTints?this.matteTints.reduce((function(e,t){return e+parseInt(t.Quantity||0)}),0):[]},gelTotalAmount:function(){if(!this.tintTypes.length)return 0;var e=this.tintTypes.find((function(e){return 1==e.Id})).Price;return e*this.gelTotal},matteTotalAmount:function(){if(!this.tintTypes.length)return 0;var e=this.tintTypes.find((function(e){return 2==e.Id})).Price;return e*this.matteTotal}},beforeMount:function(){this.loadResources()}};function U(e){for(var t="",a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",s=a.length,r=0;r<e;r++)t+=a.charAt(Math.floor(Math.random()*s));return t}function Y(e){return 0!=parseInt(e.Quantity)&&!isNaN(parseInt(e.Quantity))}R()(window).on("beforeunload",(function(){R()(window).scrollTop(0)})),history.scrollRestoration="manual";var z=G,J=a("ac7c"),Z=a("8fea"),K=a("169a"),W=a("ce7e"),X=a("23a7"),ee=a("adda"),te=a("8860"),ae=a("da13"),se=a("1800"),re=a("5d23"),ne=a("1baa"),ie=a("e0c7"),oe=a("a844"),le=Object(u["a"])(z,A,L,!1,null,null,null),ue=le.exports;d()(le,{VBtn:S["a"],VCard:w["a"],VCardActions:N["a"],VCardText:N["c"],VCardTitle:N["d"],VCheckbox:J["a"],VCol:T["a"],VContainer:k["a"],VDataTable:Z["a"],VDialog:K["a"],VDivider:W["a"],VFileInput:X["a"],VForm:V["a"],VImg:ee["a"],VList:te["a"],VListItem:ae["a"],VListItemAction:se["a"],VListItemContent:re["a"],VListItemGroup:ne["a"],VListItemTitle:re["c"],VRow:O["a"],VSpacer:I["a"],VSubheader:ie["a"],VTextField:D["a"],VTextarea:oe["a"]});var ce=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("v-navigation-drawer",{staticClass:"no-print",attrs:{permanent:"",dark:"",app:""}},[a("v-list",{attrs:{dense:"",nav:""}},[a("v-list-item",{attrs:{"two-line":""}},[a("v-list-item-content",[a("v-list-item-title",[e._v("Maureen Meriel Tints")]),a("v-list-item-subtitle",[e._v("Order Management System")])],1)],1),a("v-divider"),e._l(e.items,(function(t){return a("v-list-item",{key:t.title,on:{click:function(a){return e.goTo(t.routeName)}}},[a("v-list-item-icon",[a("v-icon",[e._v(e._s(t.icon))])],1),a("v-list-item-content",[a("v-list-item-title",[e._v(e._s(t.title))])],1)],1)}))],2)],1),a("v-main",{attrs:{id:"main"}},[a("router-view")],1)],1)},de=[],me={data:function(){return{drawer:!0,items:[{title:"Customer Orders",icon:"mdi-format-list-bulleted",routeName:"customer-orders"},{title:"Print Layouts",icon:"mdi-printer",routeName:"print-layouts"},{title:"Logout",icon:"mdi-logout",routeName:"logout"}]}},methods:{goTo:function(e){this.$router.push({name:e})}},beforeMount:function(){}},ve=me,pe=(a("22de"),a("132d")),he=a("34c3"),fe=a("f6c4"),be=a("f774"),ge=Object(u["a"])(ve,ce,de,!1,null,null,null),Ce=ge.exports;d()(ge,{VDivider:W["a"],VIcon:pe["a"],VList:te["a"],VListItem:ae["a"],VListItemContent:re["a"],VListItemIcon:he["a"],VListItemSubtitle:re["b"],VListItemTitle:re["c"],VMain:fe["a"],VNavigationDrawer:be["a"]});var xe=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",[a("v-data-table",{staticClass:"no-print",attrs:{"show-select":"","item-key":"UniqueCode",headers:e.headers,items:e.customerOrders,search:e.search},on:{"dblclick:row":e.openCustomerOrderDetails},scopedSlots:e._u([{key:"top",fn:function(){return[a("v-toolbar",{attrs:{flat:"",color:"white"}},[a("v-toolbar-title",[e._v("Customer Orders")]),a("v-divider",{staticClass:"mx-4",attrs:{inset:"",vertical:""}}),a("v-btn",{staticClass:"purple--text",attrs:{icon:"",outlined:"",disabled:!e.selectedOrders.length},on:{click:e.printPackageLabel}},[a("v-icon",[e._v("mdi-printer")])],1),a("v-spacer"),a("v-text-field",{attrs:{"append-icon":"mdi-magnify",label:"Search","single-line":"","hide-details":""},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})],1)]},proxy:!0},{key:"item.OrderStatusName",fn:function(t){return[a("span",[e._v(" "+e._s(e._f("split")(t.item.OrderStatusName))+" ")])]}}]),model:{value:e.selectedOrders,callback:function(t){e.selectedOrders=t},expression:"selectedOrders"}}),a("div",{staticClass:"no-screen",attrs:{id:"shipping-information"}},e._l(e.selectedOrders,(function(t){return a("v-card",{key:t.UniqueCode,staticClass:"pa-4 package-label"},[a("div",{staticClass:"receiver-information"},[a("div",{staticClass:"text-h5 info-header"},[e._v("Receiver")]),a("div",{staticClass:"d-flex justify-space-between"},[a("span",[e._v("Name :")]),e._v(" "),a("span",{staticClass:"font-weight-black"},[e._v(e._s(t.ClientName))])]),a("div",{staticClass:"d-flex justify-space-between"},[a("span",[e._v("Contact Number :")]),e._v(" "),a("span",{staticClass:"font-weight-black"},[e._v(e._s(t.PhoneNumber))])]),a("div",[a("span",[e._v("Address :")]),e._v(" "),a("span",{staticClass:"font-weight-black"},[e._v(e._s(t.DeliveryAddress))])])]),a("v-divider",{staticClass:"my-4"}),a("div",{staticClass:"sender-information"},[a("div",{staticClass:"text-h5 info-header"},[e._v("Sender")]),a("div",{staticClass:"d-flex justify-space-between"},[a("span",[e._v("Name :")]),e._v(" "),a("span",{staticClass:"font-weight-black"},[e._v("Maureen Mae M. Sinen")])]),a("div",{staticClass:"d-flex justify-space-between"},[a("span",[e._v("Contact Number :")]),e._v(" "),a("span",{staticClass:"font-weight-black"},[e._v("9497138064")])]),a("div",[a("span",[e._v("Address :")]),e._v(" "),a("span",{staticClass:"font-weight-black"},[e._v("B15 L4 Oakhill Subdv., Brgy. Palo Alto, Calamba, Laguna")])])])],1)})),1)],1)},ye=[],_e=(a("ac1f"),a("466d"),{data:function(){return{search:"",selectedOrders:[],customerOrders:[],headers:[{text:"Brand Name",value:"BrandName"},{text:"Client Name",value:"ClientName"},{text:"Client FB Name",value:"ClientFacebookName"},{text:"Phone Number",value:"PhoneNumber"},{text:"Amount",value:"Amount"},{text:"Order Status",value:"OrderStatusName"},{text:"Code",value:"UniqueCode"}]}},methods:{getCustomerOrders:function(){return this.$axios({method:"get",crossdomain:!1,url:"api/customer-order"}).then((function(e){return e}))},loadCustomerOrderList:function(){var e=this;this.getCustomerOrders().then((function(t){e.customerOrders=t.data.map((function(e){return Object.assign(e,{BundleCode:e.BundleCode||"Custom"})}))}))},openCustomerOrderDetails:function(e,t){this.$router.push("customer-order/".concat(t.item.Id,"/details"))},printPackageLabel:function(){window.print()}},beforeMount:function(){this.loadCustomerOrderList()},filters:{split:function(e){var t=e.match(/[A-Z]*[^A-Z]+/g);return t.reduce((function(e,t){return e+" "+t}),"")}},mounted:function(){this.$router.push({name:gt.customerOrders})}}),Se=_e,we=(a("6703"),Object(u["a"])(Se,xe,ye,!1,null,null,null)),Ne=we.exports;d()(we,{VBtn:S["a"],VCard:w["a"],VContainer:k["a"],VDataTable:Z["a"],VDivider:W["a"],VIcon:pe["a"],VSpacer:I["a"],VTextField:D["a"],VToolbar:B["a"],VToolbarTitle:P["a"]});var Te=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",[a("v-toolbar",{attrs:{color:"white",flat:""}},[a("v-tabs",{staticClass:"no-print",model:{value:e.tab,callback:function(t){e.tab=t},expression:"tab"}},e._l(e.tabItems,(function(t){return a("v-tab",{key:t.path,attrs:{to:{name:t.pathName}}},[e._v(" "+e._s(t.name)+" ")])})),1),a("v-spacer"),a("v-btn",{attrs:{icon:""},on:{click:e.refreshOrder}},[a("v-icon",[e._v("mdi-refresh")])],1)],1),a("router-view",{attrs:{customerOrderDetails:e.customerOrderDetails}})],1)},ke=[],Ve={data:function(){return{tab:"",tabItems:[{pathName:"customer-order-details",name:"Details"},{pathName:"customer-order-shades",name:"Shades"},{pathName:"customer-order-payments",name:"Payments"}],customerOrderDetails:null}},methods:{refreshOrder:function(){this.loadOrder()},loadOrder:function(){var e=this;this.$axios({method:"get",crossdomain:!1,url:"api/customer-order/".concat(e.$route.params.id)}).then((function(t){var a=t.data;e.customerOrderDetails={amount:a.Amount,brandName:a.BrandName,bundleCode:a.BundleCode,deliveryAddress:a.DeliveryAddress,clientFacebookName:a.ClientFacebookName,clientName:a.ClientName,id:a.Id,phoneNumber:a.PhoneNumber,uniqueCode:a.UniqueCode,orderStatusId:a.OrderStatusId}}))}},beforeMount:function(){this.loadOrder()}},Oe=Ve,Ie=a("71a3"),De=a("fe57"),Be=Object(u["a"])(Oe,Te,ke,!1,null,null,null),Pe=Be.exports;d()(Be,{VBtn:S["a"],VContainer:k["a"],VIcon:pe["a"],VSpacer:I["a"],VTab:Ie["a"],VTabs:De["a"],VToolbar:B["a"]});var Me=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",[e.customerOrderDetails?a("v-row",{attrs:{justify:"start"}},[a("v-col",{attrs:{cols:"3"}},[a("v-card",{attrs:{shaped:""}},[a("v-card-title",[e._v(e._s(e.customerOrderDetails.brandName))]),a("v-card-subtitle",[e._v("Brand")])],1)],1),a("v-col",{attrs:{cols:"3"}},[a("v-card",{attrs:{shaped:""}},[a("v-card-title",[e._v(" "+e._s(e.customerOrderDetails.bundleCode||"Custom")+" ")]),a("v-card-subtitle",[e._v("Bundle Code")])],1)],1),a("v-col",{attrs:{cols:"3"}},[a("v-card",{attrs:{shaped:""}},[a("v-card-title",[e._v(" "+e._s(e.customerOrderDetails.uniqueCode)+" ")]),a("v-card-subtitle",[e._v("Order Code")])],1)],1)],1):e._e(),e.customerOrderDetails?a("v-row",[a("v-col",[a("v-stepper",{model:{value:e.customerOrderDetails.orderStatusId,callback:function(t){e.$set(e.customerOrderDetails,"orderStatusId",t)},expression:"customerOrderDetails.orderStatusId"}},[a("v-stepper-header",[e._l(e.orderStatuses,(function(t,s,r){return[a("v-stepper-step",{key:t.id,attrs:{step:r+1,complete:e.customerOrderDetails.orderStatusId>r+1,editable:r+1==e.customerOrderDetails.orderStatusId+1,"complete-icon":"mdi-check"},on:{click:function(t){r+1==e.customerOrderDetails.orderStatusId+1&&e.setOrderStatus(e.customerOrderDetails.orderStatusId+1)}}},[e._v(" "+e._s(t.name)+" ")]),r+1!==Object.keys(e.orderStatuses).length?a("v-divider",{key:"divider-"+(r+1)}):e._e()]}))],2)],1)],1)],1):e._e(),a("div",{attrs:{id:"shipping-information"}},[a("v-toolbar",{attrs:{flat:"",color:"white"}},[a("v-toolbar-title",[e._v("Shipping Information")])],1),a("v-row",[a("v-col",{attrs:{cols:"6"}},[e.customerOrderDetails?a("v-card",[a("v-card-title",[e._v(" Receiver ")]),a("v-card-title",{staticClass:"text-h5"},[e._v(" "+e._s(e.customerOrderDetails.clientName)+" ")]),a("v-card-subtitle",[e._v("Name")]),a("v-card-title",{staticClass:"text-h5"},[e._v(" "+e._s(e.customerOrderDetails.phoneNumber)+" ")]),a("v-card-subtitle",[e._v("Contact Number")]),a("v-card-title",{staticClass:"text-h5"},[e._v(" "+e._s(e.customerOrderDetails.deliveryAddress)+" ")]),a("v-card-subtitle",[e._v("Address")])],1):e._e()],1)],1)],1)],1)},Fe=[],Ae={payment:{id:1,name:"Payment"},labelPrinting:{id:2,name:"Label Printing"},labelApplication:{id:3,name:"Label Application"},packaging:{id:4,name:"Packaging"},shipping:{id:5,name:"Shipping"},done:{id:6,name:"Done"}},Le=Ae,$e={data:function(){return{orderStatuses:Le}},props:["customerOrderDetails"],methods:{setOrderStatus:function(e){var t=this.customerOrderDetails.orderStatusId,a=this;this.$axios({method:"post",url:"api/customer-order/set-status",crossdomain:!1,data:{CustomerOrderId:a.$route.params.id,OrderStatusId:e}}).then((function(){a.customerOrderDetails.orderStatusId=e})).catch((function(){a.customerOrderDetails.orderStatusId=t}))}}},je=$e,Ee=a("7e85"),qe=a("9c54"),Qe=a("56a4"),Re=Object(u["a"])(je,Me,Fe,!1,null,null,null),He=Re.exports;d()(Re,{VCard:w["a"],VCardSubtitle:N["b"],VCardTitle:N["d"],VCol:T["a"],VContainer:k["a"],VDivider:W["a"],VRow:O["a"],VStepper:Ee["a"],VStepperHeader:qe["a"],VStepperStep:Qe["a"],VToolbar:B["a"],VToolbarTitle:P["a"]});var Ge=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",[a("v-data-table",{attrs:{headers:e.headers,items:e.shades,"show-group-by":""},scopedSlots:e._u([{key:"item.layoutImageFilePath",fn:function(e){return[a("v-img",{attrs:{src:""+e.item.layoutImageFilePath,"max-width":"100"}})]}}])},[a("template",{slot:"top"})],2)],1)},Ue=[],Ye={data:function(){return{headers:[{text:"Original Shade Name",value:"shadeName",groupable:!1},{text:"Custom Shade Name",value:"customShadeName",groupable:!1},{text:"Quantity",value:"quantity",groupable:!1},{text:"Tint Type",value:"tintType"},{text:"Layout",value:"layoutImageFilePath",sortable:!1,filterable:!1,groupable:!1}],shades:[]}},props:["customerOrderDetails"],beforeMount:function(){var e=this;this.$axios({method:"get",crossdomain:!1,url:"api/customer-order/".concat(e.$route.params.id,"/shades")}).then((function(t){e.shades=t.data.map((function(e){return{id:e.Id,customerOrderId:e.CustomerOrderId,shadeId:e.ShadeId,quantity:e.Quantity,shadeName:e.ShadeName,customShadeName:e.CustomShadeName,layoutImageFilePath:e.LayoutImageFilePath,tintType:e.TintType}}))}))}},ze=Ye,Je=Object(u["a"])(ze,Ge,Ue,!1,null,null,null),Ze=Je.exports;d()(Je,{VContainer:k["a"],VDataTable:Z["a"],VImg:ee["a"]});var Ke=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",[e.customerOrderDetails?a("v-row",{staticClass:"flex-row",attrs:{justify:"start"}},[a("v-col",{attrs:{cols:"3"}},[a("v-card",{attrs:{shaped:""}},[a("v-card-title",[e._v("PHP "+e._s(e.customerOrderDetails.amount)+" ")]),a("v-card-subtitle",[e._v("Settlement Amount")])],1)],1),a("v-col",{attrs:{cols:"3"}},[a("v-card",{attrs:{shaped:""}},[a("v-card-title",[e._v("PHP "+e._s(e.remainingBalance)+" ")]),a("v-card-subtitle",[e._v("Remaining Balance")])],1)],1)],1):e._e(),a("v-row",[a("v-col",{attrs:{cols:"3"}},[a("h4",{staticClass:"text-h4"},[e._v("Settlements")]),a("v-row",{staticClass:"flex-column"},[a("v-col",[e.remainingBalance>0?a("v-btn",{staticClass:"purple--text",attrs:{outlined:"",rounded:""},on:{click:e.setupNewSettlementDialog}},[e._v("New Settlement")]):e._e()],1),e._l(e.settlements,(function(t){return a("v-col",{key:t.id},[a("v-card",{attrs:{tile:""}},[a("v-card-title",[e._v(" PHP "+e._s(t.amount)+" ")]),a("v-card-subtitle",[e._v(" "+e._s(t.settlementDate)+" ")])],1)],1)}))],2)],1),a("v-col",{attrs:{cols:"9"}},[a("h4",{staticClass:"text-h4"},[e._v("Payment Images")]),a("v-row",e._l(e.paymentsImages,(function(e){return a("v-col",{key:e.id,attrs:{cols:"4"}},[a("v-card",{staticClass:"mx-auto",attrs:{"max-width":"400"}},[a("v-img",{staticClass:"white--text align-end",attrs:{src:""+e.paymentImageFilePath}})],1)],1)})),1)],1)],1),a("v-dialog",{attrs:{"max-width":"350px",persistent:""},model:{value:e.isNewSettlementDialogVisible,callback:function(t){e.isNewSettlementDialogVisible=t},expression:"isNewSettlementDialogVisible"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[e._v("New Settlement")])]),a("v-container",[a("v-row",{staticClass:"flex-column"},[a("v-col",[a("v-text-field",{attrs:{type:"number",label:"Amount","prepend-icon":"mdi-cash"},model:{value:e.settlementAmount,callback:function(t){e.settlementAmount=t},expression:"settlementAmount"}})],1),a("v-col",[a("v-menu",{attrs:{"close-on-content-click":!1,"nudge-right":40,transition:"scale-transition","offset-y":"","min-width":"290px"},scopedSlots:e._u([{key:"activator",fn:function(t){var s=t.on,r=t.attrs;return[a("v-text-field",e._g(e._b({attrs:{label:"Settlement Date","prepend-icon":"mdi-calendar",readonly:""},model:{value:e.settlementDate,callback:function(t){e.settlementDate=t},expression:"settlementDate"}},"v-text-field",r,!1),s))]}}]),model:{value:e.isDatePickerVisible,callback:function(t){e.isDatePickerVisible=t},expression:"isDatePickerVisible"}},[a("v-date-picker",{on:{input:function(t){e.isDatePickerVisible=!1}},model:{value:e.settlementDate,callback:function(t){e.settlementDate=t},expression:"settlementDate"}})],1)],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:function(t){e.isNewSettlementDialogVisible=!1}}},[e._v("Close")]),a("v-btn",{attrs:{color:"blue darken-1",text:"",loading:e.isSubmittingSettlement},on:{click:e.submitNewSettlement}},[e._v(" Save ")])],1)],1)],1)],1)},We=[],Xe={data:function(){return{paymentsImages:[],settlements:[],isNewSettlementDialogVisible:!1,settlementDate:"",settlementAmount:0,isDatePickerVisible:!1,isSubmittingSettlement:!1}},props:["customerOrderDetails"],methods:{submitNewSettlement:function(){this.isSubmittingSettlement=!0;var e=this;this.$axios({method:"post",crossdomain:!1,url:"api/customer-order/create-settlement",data:{SettlementDate:e.settlementDate,Amount:e.settlementAmount,CustomerOrderId:e.$route.params.id}}).then((function(t){var a={id:t.data.Id,amount:t.data.Amount,settlementDate:t.data.SettlementDate},s=[a].concat(Object(j["a"])(e.settlements));e.settlements=s,e.isNewSettlementDialogVisible=!1})).finally((function(){e.isSubmittingSettlement=!1}))},setupNewSettlementDialog:function(){this.settlementAmount=this.remainingBalance,this.isNewSettlementDialogVisible=!0}},setRemainingBalance:function(){},computed:{remainingBalance:function(){return this.customerOrderDetails.amount-this.settlements.reduce((function(e,t){return e+t.amount}),0)}},mounted:function(){var e=this;this.$axios({method:"get",crossdomain:!1,url:"api/customer-order/".concat(e.$route.params.id,"/payments")}).then((function(t){e.paymentsImages=t.data.map((function(e){return{id:e.Id,customerOrderId:e.CustomerOrderId,paymentImageFilePath:e.PaymentImageFilePath}}))})),this.$axios({method:"get",crossdomain:!1,url:"api/customer-order/".concat(e.$route.params.id,"/settlements")}).then((function(t){e.settlements=t.data.map((function(e){return{id:e.Id,amount:e.Amount,settlementDate:e.SettlementDate}}))})),this.settlementDate=(new Date).toISOString().substr(0,10)}},et=Xe,tt=a("2e4b"),at=a("e449"),st=Object(u["a"])(et,Ke,We,!1,null,null,null),rt=st.exports;d()(st,{VBtn:S["a"],VCard:w["a"],VCardActions:N["a"],VCardSubtitle:N["b"],VCardTitle:N["d"],VCol:T["a"],VContainer:k["a"],VDatePicker:tt["a"],VDialog:K["a"],VImg:ee["a"],VMenu:at["a"],VRow:O["a"],VSpacer:I["a"],VTextField:D["a"]});var nt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",[a("div",{attrs:{id:"interface"}},[a("v-data-table",{attrs:{headers:e.headers,items:e.pool,"items-per-page":5,"item-key":"customerOrderShadeId","show-select":"","show-group-by":""},scopedSlots:e._u([{key:"top",fn:function(){return[a("v-toolbar",{attrs:{flat:"",color:"white",id:"print-table-header"}},[a("v-toolbar-title",[e._v("Print Layouts")]),a("v-divider",{staticClass:"mx-4",attrs:{inset:"",vertical:""}}),a("v-btn",{staticClass:"purple--text",attrs:{outlined:"",disabled:!e.bucket.length},on:{click:e.printPreview}},[e._v(" Print Preview ")])],1)]},proxy:!0},{key:"item.layoutImageFilePath",fn:function(e){return[a("v-img",{attrs:{src:""+e.item.layoutImageFilePath,"max-width":"100"}})]}},{key:"item.quantity",fn:function(t){return[a("v-text-field",{staticClass:"pa-4",attrs:{solo:"",flat:"",type:"number"},model:{value:t.item.quantity,callback:function(a){e.$set(t.item,"quantity",a)},expression:"props.item.quantity"}})]}}]),model:{value:e.bucket,callback:function(t){e.bucket=t},expression:"bucket"}})],1),a("div",{attrs:{id:"results-container"}},e._l(e.staged,(function(e,t){return a("img",{key:t+"-"+e.customerOrderShadeId,class:[1==e.tintTypeId?"is-gel":"is-powder"],attrs:{src:""+e.layoutImageFilePath}})})),0)])},it=[],ot={data:function(){return{pool:[],headers:[{text:"Original Shade Name",value:"shadeName",groupable:!1},{text:"Custom Shade Name",value:"customShadeName",groupable:!1},{text:"Quantity",value:"quantity",groupable:!1},{text:"Tint Type",value:"tintType"},{text:"Client | Brand",value:"client"},{text:"Layout",value:"layoutImageFilePath",sortable:!1,filterable:!1,groupable:!1}],bucket:[],staged:[]}},methods:{printPreview:function(){var e=[],t=this.bucket.filter((function(e){return 1==e.tintTypeId})),a=this.bucket.filter((function(e){return 2==e.tintTypeId}));t.forEach((function(t){for(var a=0;a<t.quantity;a++)e.push(t)})),a.forEach((function(t){for(var a=0;a<t.quantity;a++)e.push(t)})),this.staged=e,this.$nextTick((function(){window.print()}))}},beforeMount:function(){var e=this;this.$axios({method:"get",crossdomain:!1,url:"api/shade-layouts"}).then((function(t){e.pool=t.data.map((function(e){return{customerOrderShadeId:e.CustomerOrderShadeId,customerOrderId:e.CustomerOrderId,shadeId:e.ShadeId,quantity:e.Quantity,shadeName:e.ShadeName,customShadeName:e.CustomShadeName,layoutImageFilePath:e.LayoutImageFilePath,tintType:e.TintType,tintTypeId:e.TintTypeId,client:e.CustomerOrder.BrandName+" | "+e.CustomerOrder.ClientFacebookName,uniqueCode:e.CustomerOrder.UniqueCode}}))}))}},lt=ot,ut=(a("4966"),Object(u["a"])(lt,nt,it,!1,null,"2b79fb71",null)),ct=ut.exports;d()(ut,{VBtn:S["a"],VContainer:k["a"],VDataTable:Z["a"],VDivider:W["a"],VImg:ee["a"],VTextField:D["a"],VToolbar:B["a"],VToolbarTitle:P["a"]});var dt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",[a("v-row",{attrs:{justify:"center"}},[a("v-col",{attrs:{cols:"12",md:"8"}},[a("h3",{staticClass:"text-h3"},[e._v("Upload your payment")]),a("v-divider",{staticClass:"my-5"}),a("v-form",{ref:"form"},[a("v-row",[a("v-col",{attrs:{cols:"12",md:"6"}},[a("v-text-field",{attrs:{label:"Order Code",rules:e.requiredRules},model:{value:e.uniqueCode,callback:function(t){e.uniqueCode=t},expression:"uniqueCode"}})],1),a("v-col",{attrs:{cols:"12",md:"6"}},[a("v-file-input",{attrs:{label:"Payment Images",multiple:"","prepend-icon":"mdi-paperclip",rules:e.requiredRules},scopedSlots:e._u([{key:"selection",fn:function(t){var s=t.text;return[a("v-chip",{attrs:{small:"",label:"",color:"primary"}},[e._v(" "+e._s(s)+" ")])]}}]),model:{value:e.files,callback:function(t){e.files=t},expression:"files"}})],1)],1),a("v-btn",{staticClass:"purple--text",attrs:{outlined:"",loading:e.uploadIsLoading},on:{click:e.upload}},[e._v("Upload")])],1)],1)],1),a("v-dialog",{attrs:{"min-width":"290","max-width":"400"},on:{"click:outside":function(t){e.hasError=!1}},model:{value:e.hasError,callback:function(t){e.hasError=t},expression:"hasError"}},[a("v-card",[a("v-card-title",{staticClass:"headline"},[e._v("Error")]),a("v-card-text",{staticClass:"body-1"},[e._v(e._s(e.errorMessage))]),a("v-card-actions",[a("v-btn",{attrs:{color:"green darken-1",text:""},on:{click:function(t){e.hasError=!1}}},[e._v(" Ok ")])],1)],1)],1),a("v-dialog",{attrs:{"min-width":"290","max-width":"400",persistent:""},model:{value:e.isSuccess,callback:function(t){e.isSuccess=t},expression:"isSuccess"}},[a("v-card",[a("v-card-title",{staticClass:"headline"},[e._v("Success")]),a("v-card-text",{staticClass:"body-1"},[e._v("Your payment info has been submitted.")]),a("v-card-actions",[a("v-btn",{attrs:{color:"green darken-1",text:""},on:{click:function(t){return e.router.go(0)}}},[e._v(" Ok ")])],1)],1)],1)],1)},mt=[],vt={data:function(){return{files:null,uniqueCode:"",requiredRules:[function(e){return!!e||"This can't be empty."}],uploadIsLoading:!1,errorMessage:"",hasError:!1,isSuccess:!1}},methods:{upload:function(){var e=this.$refs.form.validate();if(e){var t=new FormData;t.append("uniqueCode",this.uniqueCode),this.files.forEach((function(e){t.append("file",e)})),this.uploadIsLoading=!0;var a=this;this.$axios({crossdomain:!1,method:"post",url:"api/customer-order/submit-payment",data:t,headers:{"content-type":"multipart/form-data"}}).then((function(){return a.isSuccess=!0})).catch((function(e){a.hasError=!0,e.response?a.errorMessage=e.response.data.Message:e.request?console.log(e.request):a.errorMessage=e.message})).finally((function(){a.uploadIsLoading=!1}))}}}},pt=vt,ht=a("cc20"),ft=Object(u["a"])(pt,dt,mt,!1,null,null,null),bt=ft.exports;d()(ft,{VBtn:S["a"],VCard:w["a"],VCardActions:N["a"],VCardText:N["c"],VCardTitle:N["d"],VChip:ht["a"],VCol:T["a"],VContainer:k["a"],VDialog:K["a"],VDivider:W["a"],VFileInput:X["a"],VForm:V["a"],VRow:O["a"],VTextField:D["a"]});var gt={main:"main",customerOrders:"customer-orders",customerOrder:"customer-order",customerOrderDetails:"customer-order-details",customerOrderShades:"customer-order-shades",customerOrderPayments:"customer-order-payments",printLayouts:"print-layouts",orderForm:"order-form",login:"login",logout:"logout",payment:"payment"},Ct=[{path:"/",component:Ce,name:gt.main,meta:{requiresAuth:!0},children:[{path:"customer-orders",component:Ne,name:gt.customerOrders,meta:{requiresAuth:!0}},{path:"customer-order/:id",component:Pe,name:gt.customerOrder,meta:{requiresAuth:!0},children:[{path:"details",component:He,name:gt.customerOrderDetails},{path:"shades",component:Ze,name:gt.customerOrderShades},{path:"payments",component:rt,name:gt.customerOrderPayments}]},{path:"print-layouts",component:ct,name:gt.printLayouts,meta:{requiresAuth:!0}}]},{path:"/order-form",component:ue,name:gt.orderForm},{path:"/login",component:F,name:gt.login},{path:"/logout",name:gt.logout,beforeEnter:function(e,t,a){localStorage.removeItem("access_key"),a({name:"login"})}},{path:"/payment",component:bt,name:gt.payment}],xt=new r["a"]({routes:Ct});function yt(){return!!localStorage.getItem("access_key")}xt.beforeEach((function(e,t,a){e.matched.some((function(e){return e.meta.requiresAuth}))?yt()?a():a({name:"login"}):a()}));var _t=a("bc3a"),St=a.n(_t);St.a.defaults.headers.common["Authorization"]="Bearer "+localStorage.getItem("access_key"),St.a.interceptors.response.use((function(e){return e}),(function(e){return 401==e.response.status&&(localStorage.removeItem("access_key"),xt.push({name:"login"})),Promise.reject(e)}));var wt=St.a;s["a"].config.productionTip=!1,s["a"].prototype.$axios=wt,s["a"].use(r["a"]),new s["a"]({vuetify:f,router:xt,render:function(e){return e(p)}}).$mount("#app")},6703:function(e,t,a){"use strict";var s=a("a601"),r=a.n(s);r.a},8319:function(e,t,a){},"85ec":function(e,t,a){},"8c5a":function(e,t,a){},a601:function(e,t,a){}});
//# sourceMappingURL=app.02ab4472.js.map